(this["webpackJsonpclient-admin"]=this["webpackJsonpclient-admin"]||[]).push([[0],{198:function(e,a,t){},202:function(e,a,t){e.exports=t.p+"static/media/iconmonstr-linkedin-1.97ce31c8.svg"},203:function(e,a,t){e.exports=t.p+"static/media/email.f7e3bead.svg"},284:function(e,a,t){e.exports=t(493)},289:function(e,a,t){},291:function(e,a,t){},318:function(e,a,t){},323:function(e,a,t){},324:function(e,a,t){},325:function(e,a,t){},489:function(e,a,t){},490:function(e,a,t){},491:function(e,a,t){},492:function(e,a,t){},493:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(10),l=t.n(c),i=(t(289),t(526)),o=t(528),s=t(30),u=t(23),m=t(14),d=t.n(m),p=t(26),g=(t(291),t(27)),f=t(28);function b(){var e=Object(g.a)(["\ndisplay: -webkit-box;\ndisplay: -ms-flexbox;\ndisplay: flex;\n-webkit-box-align: center;\n-ms-flex-align: center;\nalign-items: center;\nheight: 36px;\npadding: 0 14px;\nborder: 2px solid #fff;\nfont-weight: 500;\nfont-size: 14px;\nborder-radius: 10px;\n-webkit-transition: background-color .3s ease,color .3s ease;\n-o-transition: background-color .3s ease,color .3s ease;\ntransition: background-color .3s ease,color .3s ease;\ntext-decoration: none;\ncolor: #fff;\n\n@media (min-width: 1200px) {\n&:hover {\n    background-color: #fff;\n    color: #000;\n}\n}\n"]);return b=function(){return e},e}function h(){var e=Object(g.a)(["\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 58px;\ndisplay: -webkit-box;\ndisplay: -ms-flexbox;\ndisplay: flex;\n-webkit-box-pack: justify;\n-ms-flex-pack: justify;\njustify-content: space-between;\n-webkit-box-align: center;\n-ms-flex-align: center;\nalign-items: center;\nz-index: 1;\npadding: 0 16px;\nbackground-image: -webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.3)),to(transparent));\nbackground-image: -o-linear-gradient(top,rgba(0,0,0,.3),transparent);\nbackground-image: linear-gradient(180deg,rgba(0,0,0,.3),transparent);\n  "]);return h=function(){return e},e}var v=f.a.div(h()),k=f.a.a(b());var E=function(){return r.a.createElement(v,null,r.a.createElement("div",null),r.a.createElement(k,{href:"http://ec2-52-15-195-225.us-east-2.compute.amazonaws.com/",target:"_blank",rel:"noopener noreferrer"},"Stw\xf3rz swoj\u0105 e-wizyt\xf3wk\u0119"))};function j(){var e=Object(g.a)(["\ntext-decoration: none;\ncolor: #000;\n"]);return j=function(){return e},e}function O(){var e=Object(g.a)(["\ndisplay: -webkit-box;\ndisplay: -ms-flexbox;\ndisplay: flex;\njustify-content: center;\npadding: 0 16px 16px;\ntext-align: center;\ncolor: #302206;\nfont-size: 12px;\nopacity: .7;\n  "]);return O=function(){return e},e}var w=f.a.div(O()),x=f.a.a(j());var y=function(){return r.a.createElement(w,null,r.a.createElement("p",null,"Stworzono w Gdyni przez ",r.a.createElement(x,{href:"https://kuzmenczuk.dev",target:"_blank",rel:"noopener noreferrer"},"kuzmenczuk.dev")))};function C(){var e=Object(g.a)(["\n        ","\n        position: relative;\n        width: 100%;\n        height: 100%;\n        "]);return C=function(){return e},e}var N=f.a.div(C(),(function(e){return e.background}));var S=function(e){var a=e.data.background,t=a.color,n=a.isColor,c=a.imageUrl;return r.a.createElement("div",{id:"Background"},r.a.createElement(N,{background:function(){return n?"background-color: ".concat(t,";"):"background-image: url(".concat(c,");background-size: cover;background-position: center;")}}))},z=t(202),_=t.n(z),T=t(203),P=t.n(T);function D(){var e=Object(g.a)(["\n  background-image: -webkit-gradient(linear,left top,left bottom,from(#00aefa),to(#0983c5));\n  background-image: -o-linear-gradient(top,#00aefa,#0983c5);\n  background-image: linear-gradient(180deg,#00aefa,#0983c5);\n  "]);return D=function(){return e},e}function U(){var e=Object(g.a)(["\nbackground-image: -webkit-gradient(linear,left top,left bottom,from(#2877b5),to(#007ad4));\nbackground-image: -o-linear-gradient(top,#2877b5,#007ad4);\nbackground-image: linear-gradient(180deg,#2877b5,#007ad4);\n\n& > img {\n  color: white;\n}\n  "]);return U=function(){return e},e}function I(){var e=Object(g.a)(["\nbackground-image: -webkit-gradient(linear,left top,left bottom,from(#00bbf2),to(#007ad4));\n    background-image: -o-linear-gradient(top,#00bbf2,#007ad4);\n    background-image: linear-gradient(180deg,#00bbf2,#007ad4);\n  "]);return I=function(){return e},e}function L(){var e=Object(g.a)(["\nbackground-image: -webkit-gradient(linear,left top,left bottom,from(#8760fd),to(#4c389d));\nbackground-image: -o-linear-gradient(top,#8760fd,#4c389d);\nbackground-image: linear-gradient(180deg,#8760fd,#4c389d);\n  "]);return L=function(){return e},e}function A(){var e=Object(g.a)(["\n  background-image: -webkit-gradient(linear,left top,left bottom,from(#00b1ff),to(#006dfe));\n  background-image: -o-linear-gradient(top,#00b1ff,#006dfe);\n  background-image: linear-gradient(180deg,#00b1ff,#006dfe);\n  "]);return A=function(){return e},e}function B(){var e=Object(g.a)(["\nbackground-image: -webkit-gradient(linear,left top,left bottom,from(#00aefa),to(#0983c5));\nbackground-image: -o-linear-gradient(top,#00aefa,#0983c5);\nbackground-image: linear-gradient(180deg,#00aefa,#0983c5);\n  "]);return B=function(){return e},e}function H(){var e=Object(g.a)(["\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#60fd7c), to(#07b825));\n  background-image: -o-linear-gradient(top, #60fd7c, #07b825);\n  background-image: linear-gradient(180deg, #60fd7c, #07b825)\n  "]);return H=function(){return e},e}function W(){var e=Object(g.a)(["\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    height: 36px;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    color: #fff;\n    border-radius: 10px;\n    background-color: #2f3542;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n    -webkit-transition: -webkit-box-shadow .3s ease, -webkit-transform .3s ease;\n    transition: -webkit-box-shadow .3s ease, -webkit-transform .3s ease;\n    -o-transition: box-shadow .3s ease, transform .3s ease;\n    transition: box-shadow .3s ease, transform .3s ease;\n    transition: box-shadow .3s ease, transform .3s ease, -webkit-box-shadow .3s ease, -webkit-transform .3s ease;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 32px;\n    text-align: center;\n    text-transform: capitalize;\n    letter-spacing: .02px;\n\n    &>img {\n      height: 32px;\n      width: auto;\n      margin: 0;\n      -webkit-transform: scale(1.2);\n      -ms-transform: scale(1.2);\n      transform: scale(1.2)\n    }\n    \n    &>img,\n    &>span {\n      display: inline-block;\n      vertical-align: top;\n      pointer-events: none\n    }\n    \n    &>span {\n      margin: 0 0 0 8px\n    }\n  "]);return W=function(){return e},e}var R=f.a.a(W()),F=Object(f.a)(R)(H()),J=Object(f.a)(R)(B()),q=Object(f.a)(R)(A()),Z=Object(f.a)(R)(L()),G=Object(f.a)(R)(I()),M=Object(f.a)(R)(U()),K=Object(f.a)(R)(D());var Y=function(e){var a=e.data;return a?r.a.createElement("div",{id:"messengers"},r.a.createElement("ul",{count:a.length,id:"card_messengers"},a.map((function(e){return r.a.createElement("li",{key:e.id},function(e){switch(e.messenger){case"WhatsApp":return r.a.createElement(F,{href:"https://wa.me/".concat(e.href),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://mssg.me/static/webapp/dist/img/messengers/whatsapp.svg",alt:"whatsapp.svg icon"}),r.a.createElement("span",null,e.messenger));case"Telegram":return r.a.createElement(J,{href:"tg://resolve?domain=".concat(e.href),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://mssg.me/static/webapp/dist/img/messengers/telegram-new.svg",alt:"telegram-new.svg icon"}),r.a.createElement("span",null,e.messenger));case"Messenger":return r.a.createElement(q,{href:"https://m.me/".concat(e.href),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://mssg.me/static/webapp/dist/img/messengers/messenger_new.svg",alt:"messenger_new.svg icon"}),r.a.createElement("span",null,e.messenger));case"Skype":return r.a.createElement(G,{href:e.href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://mssg.me/static/webapp/dist/img/messengers/skype.svg",alt:"skype.svg icon"}),r.a.createElement("span",null,e.messenger));case"Viber":return r.a.createElement(Z,{href:e.href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://mssg.me/static/webapp/dist/img/messengers/viber.svg",alt:"viber.svg icon"}),r.a.createElement("span",null,e.messenger));case"LinkedIn":return r.a.createElement(M,{href:e.href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:_.a,alt:"viber.svg icon"}),r.a.createElement("span",null,e.messenger));case"Email":return r.a.createElement(K,{href:"mailto:".concat(e.href),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:P.a,alt:"email.svg icon",style:{height:"70%",color:"white"}}),r.a.createElement("span",null,e.messenger));default:return!0}}(e))})))):null};var V=function(e){var a=e.data.messengers,t=e.profile;return r.a.createElement("div",{id:"CardInfo"},r.a.createElement("div",{id:"name"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:t.photoUrl,alt:t.fullname})),r.a.createElement("div",{className:"name"},r.a.createElement("h1",null,t.fullname))),r.a.createElement("div",{id:"description"},r.a.createElement("p",null,t.description)),r.a.createElement(Y,{data:a}))};var $=function(e){return e.data?r.a.createElement("div",{id:"CardLinks"},r.a.createElement("ul",null,e.data.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",null,e.header,r.a.createElement("span",null,e.subheader))))})))):null};var Q=function(e){return e.data?r.a.createElement("div",{id:"Shop"},r.a.createElement("div",{id:"products"},r.a.createElement("ul",null,e.data.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{href:e.href,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("div",{className:"product__image_outter"},e.imageUrl?r.a.createElement("div",{className:"product__image_inner"},r.a.createElement("img",{src:e.imageUrl,alt:e.header})):r.a.createElement("div",{style:{width:"100%",height:"100%",color:"#fafafa"}})),r.a.createElement("div",{className:"product__text"},r.a.createElement("span",{className:"product__text_header"},e.header),r.a.createElement("span",{className:"product__text_subheader"},e.subheader))))}))))):null};var X=function(e){return r.a.createElement("div",{className:"Outter1"},r.a.createElement("div",{className:"Outter2"},r.a.createElement("div",{id:"CardRoot"},r.a.createElement("div",{className:"CardRoot_Inner"},e.design.branding?r.a.createElement(E,null):null,r.a.createElement(S,{data:e.design}),r.a.createElement("div",null,r.a.createElement(V,{data:e.theDataObject,profile:e.profileData}),r.a.createElement($,{data:e.links}),r.a.createElement(Q,{data:e.products}),r.a.createElement(y,null))))))};function ee(){}var ae=Object(n.createContext)({save:ee,loading:!1,request:ee,error:null,clearError:ee,exit:ee,theDataObject:{},changeProfile:ee,profile:{},changeDesign:ee,changeLinks:ee,changeMessengers:ee,changeProducts:ee}),te=t(47),ne=t(7),re=t(18),ce=t(551);function le(){}var ie=Object(n.createContext)({token:null,userId:null,login:le,logout:le,isAuth:!1}),oe=t(546),se=t(25),ue=t(60),me=oe.a.create({maxToasts:7,className:"recipe-toaster",position:se.a.TOP}),de=function(){return{showToast:function(e,a,t){switch(a){case"error":return me.show({message:e,intent:ue.a.WARNING,icon:t||"warning-sign"});case"success":return me.show({message:e,intent:ue.a.SUCCESS,icon:t||"tick"});case"primary":return me.show({message:e,intent:ue.a.PRIMARY,icon:t||"tick"});default:return null}}}},pe=function(){var e=Object(n.useState)(!1),a=Object(re.a)(e,2),t=a[0],r=a[1],c=function(){var e=Object(n.useContext)(ie).logout,a=de().showToast;return{errorHandling:Object(n.useCallback)((function(t){if("jwt expired"===t)return a("Tw\xf3j token ju\u017c jest niewa\u017cny, zaloguj si\u0119 ponownie","error"),e(!1);a(t,"error")}),[])}}().errorHandling;return{loading:t,request:Object(n.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,l,i,o,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,l=s.length>3&&void 0!==s[3]?s[3]:{},r(!0),e.prev=4,n&&(n.append||(n=JSON.stringify(n),l["Content-Type"]="application/json")),e.next=8,fetch(a,{method:t,body:n,headers:l});case 8:return i=e.sent,e.next=11,i.json();case 11:if(o=e.sent,i.ok){e.next=20;break}if(!o.errors){e.next=17;break}throw new Error(o.errors[0].msg);case 17:if(!o.message){e.next=19;break}throw new Error(o.message);case 19:throw new Error("Ups...co\u015b posz\u0142o nie tak. Spr\xf3buj jeszcze raz");case 20:return r(!1),e.abrupt("return",o);case 24:e.prev=24,e.t0=e.catch(4),r(!1),c(e.t0.message);case 28:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(a){return e.apply(this,arguments)}}(),[c])}},ge=function(e){var a=new FileReader,t=new Promise((function(e,t){a.onload=function(a){return e(a.target.result)},a.onerror=function(e){return t(e)}}));return a.readAsDataURL(e),t},fe={linkname:"",analytics:{facebook:"",google:""},design:{background:{color:"linear-gradient(135deg, rgb(81, 179, 247) 0%, rgba(81, 179, 247, 0.6) 100%)",imageUrl:"",isColor:!0},branding:!0},links:[],messengers:[],products:[],profileAbout:{description:" ",fullname:" ",photoUrl:"https://mssg.me/static/avatars/avatar_default.svg"}},be=(t(318),Object(i.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})));var he=function(){var e=La(),a=pe(),t=a.loading,c=a.request,l=Object(n.useContext)(ie).token,i=be(),s=function(){var e={id:"",active:!1,header:"Nowy Link",subheader:"",href:""},a={id:"",active:!1,header:"Nowy Produkt",subheader:"",href:"",imageUrl:""},t=Object(n.useState)(!1),r=Object(re.a)(t,2),c=r[0],l=r[1],i=de().showToast,o=pe(),s=o.loading,u=o.request,m=s,g=Object(n.useState)(null),f=Object(re.a)(g,2),b=f[0],h=f[1],v=Object(n.useState)(fe),k=Object(re.a)(v,2),E=k[0],j=k[1],O=Object(n.useState)(E.linkname),w=Object(re.a)(O,2),x=(w[0],w[1]),y=Object(n.useState)(E.design),C=Object(re.a)(y,2),N=C[0],S=C[1],z=Object(n.useState)(E.links),_=Object(re.a)(z,2),T=_[0],P=_[1],D=Object(n.useState)(E.messengers),U=Object(re.a)(D,2),I=U[0],L=U[1],A=Object(n.useState)(E.products),B=Object(re.a)(A,2),H=B[0],W=B[1],R=Object(n.useState)(E.profileAbout),F=Object(re.a)(R,2),J=F[0],q=F[1];Object(n.useEffect)((function(){x(E.linkname),S(E.design),q(E.profileAbout),P(E.links),L(E.messengers),W(E.products)}),[E]);var Z=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("description",J.description),a.append("fullname",J.fullname),a.append("photoUrl",J.photoUrl),a.append("photofile",J.photofile),e.next=8,u("/api/data-change/card/profile","POST",a,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 8:(t=e.sent)&&(j(Object(ne.a)(Object(ne.a)({},E),{},{profileAbout:Object(ne.a)(Object(ne.a)({},J),{},{photoUrl:t.photoUrl})})),window.history.back(),i(t.message,"success"),h(null),l(!1)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("color",N.background.color),a.append("isColor",N.background.isColor),a.append("imageUrl",N.background.imageUrl),a.append("branding",N.branding),a.append("photofile",N.photofile),e.next=9,u("/api/data-change/card/design","POST",a,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 9:(t=e.sent)&&(j(Object(ne.a)(Object(ne.a)({},E),{},{design:Object(ne.a)(Object(ne.a)({},N),{},{background:Object(ne.a)(Object(ne.a)({},N.background),{},{imageUrl:t.imageUrl})})})),window.history.back(),i(t.message,"success"),h(null),l(!1)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var a=Object(p.a)(d.a.mark((function a(){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.id=Object(ce.a)(),t=T.concat(e),P(t),a.next=6,u("/api/data-change/card/links","POST",t,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 6:a.sent&&(j(Object(ne.a)(Object(ne.a)({},E),{},{links:t})),i("Nowy link jest dodany! Nie zapomnij go aktywowa\u0107 :)","success")),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}(),K=function(e){c||l(!0);var a=T.filter((function(a){return a.id!==e}));P(a)},Y=function(){var e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("/api/data-change/card/links","POST",T,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 3:(a=e.sent)&&(j(Object(ne.a)(Object(ne.a)({},E),{},{links:T})),i(a.message,"success"),l(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("/api/data-change/card/single-link","POST",a,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 3:(t=e.sent)&&(j(Object(ne.a)(Object(ne.a)({},E),{},{links:T})),window.history.back(),i(t.message,"success"),l(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.id=Object(ce.a)(),t=H.concat(a),W(t),e.next=6,u("/api/data-change/card/products","POST",t,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 6:e.sent&&(j(Object(ne.a)(Object(ne.a)({},E),{},{products:t})),i("Nowy produkt jest dodany! Nie zapomnij go aktywowa\u0107 :)","success")),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Q=function(e){c||l(!0);var a=H.filter((function(a){return a.id!==e}));W(a)};return{saveProfile:Z,changeProfile:function(e,a){switch(c||l(!0),e){case"form-data":q(Object(ne.a)(Object(ne.a)({},J),{},Object(te.a)({},a.target.name,a.target.value)));break;case"add-image":ge(a.target.files[0]).then((function(e){return h(e)})).catch((function(e){return h(null)})),q(Object(ne.a)(Object(ne.a)({},J),{},{photofile:a.target.files[0]})),a.target.value="";break;case"delete-image":q(Object(ne.a)(Object(ne.a)({},J),{},{photoUrl:"http://localhost:5000/images/avatar_default.svg"}));break;case"reset-image":h(null),q(Object(ne.a)(Object(ne.a)({},J),{},{photoUrl:E.profileAbout.photoUrl,photofile:null}))}},profile:J,saveLinks:Y,saveSingleLink:V,changeLinks:function(e,a,t){switch(c||l(!0),e){case"add-new-link":M(),l(!1);break;case"delete-link":K(a);break;case"single-link-form-data":P(T.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},Object(te.a)({},t.target.name,t.target.value)):e})));break;case"single-link-active":P(T.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},{active:!e.active}):e})))}},setLinks:P,links:T,addNewLink:M,deleteLink:K,saveDesign:G,changeDesign:function(e,a){switch(c||l(!0),e){case"color":S(Object(ne.a)(Object(ne.a)({},N),{},{background:Object(ne.a)(Object(ne.a)({},N.background),{},{color:a})}));break;case"isColor":S(Object(ne.a)(Object(ne.a)({},N),{},{background:Object(ne.a)(Object(ne.a)({},N.background),{},{isColor:a})}));break;case"add-image":ge(a.target.files[0]).then((function(e){return h(e)})).catch((function(e){return h(null)})),S(Object(ne.a)(Object(ne.a)({},N),{},{photofile:a.target.files[0]})),a.target.value="";break;case"delete-image":S(Object(ne.a)(Object(ne.a)({},N),{},{background:Object(ne.a)(Object(ne.a)({},N.background),{},{imageUrl:""})}));break;case"reset-image":h(null),S(Object(ne.a)(Object(ne.a)({},N),{},{background:Object(ne.a)(Object(ne.a)({},N.background),{},{imageUrl:E.design.background.imageUrl}),photofile:null}));break;case"branding":S(Object(ne.a)(Object(ne.a)({},N),{},{branding:a}))}},design:N,saveProducts:function(){var e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("/api/data-change/card/products","POST",H,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 3:(a=e.sent)&&(j(Object(ne.a)(Object(ne.a)({},E),{},{products:H})),i(a.message,"success"),l(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),saveSingleProduct:function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("id",a.id),t.append("active",a.active),t.append("header",a.header),t.append("subheader",a.subheader),t.append("href",a.href),t.append("imageUrl",a.imageUrl),t.append("photofile",a.photofile),e.next=11,u("/api/data-change/card/single-product","POST",t,{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userData")).token});case 11:(n=e.sent)&&(j(Object(ne.a)(Object(ne.a)({},E),{},{products:n.products})),window.history.back(),i(n.message,"success"),h(null),l(!1)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(a){return e.apply(this,arguments)}}(),changeProducts:function(e,a,t){switch(c||l(!0),e){case"add-new-product":$();break;case"delete-product":Q(a);break;case"single-product-form-data":W(H.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},Object(te.a)({},t.target.name,t.target.value)):e})));break;case"single-product-add-image":ge(t.target.files[0]).then((function(e){return h(e)})).catch((function(e){return h(null)})),W(H.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},{photofile:t.target.files[0]}):e}))),t.target.value="";break;case"single-product-delete-image":W(H.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},{imageUrl:""}):e})));break;case"single-product-reset-image":h(null);var n=H.findIndex((function(e){return e.id===a}));W(H.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},{imageUrl:E.products[n].imageUrl,photofile:null}):e})));break;case"single-product-active":W(H.map((function(e){return e.id===a?Object(ne.a)(Object(ne.a)({},e),{},{active:!e.active}):e})))}},addNewProduct:$,deleteProduct:Q,products:H,setProducts:W,setTheDataObject:j,theDataObject:E,changeMessengers:function(e){L(Object(ne.a)(Object(ne.a)({},I),e))},anyChanges:c,setAnyChanges:l,loadingApi:m,imagePreview:b,exit:function(){S(E.design),P(E.links),L(E.messengers),W(E.products),q(E.profileAbout)}}}();return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/api/data-change/get-data","GET",null,{Authorization:"Bearer ".concat(l)});case 3:a=e.sent,s.setTheDataObject(a.card),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,c]),t?r.a.createElement("div",{className:i.root},r.a.createElement(o.a,null)):r.a.createElement(ae.Provider,{value:s},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row-left"},e),r.a.createElement("div",{className:"row-right"},t?r.a.createElement("div",{className:i.root},r.a.createElement(o.a,null)):r.a.createElement(X,{theDataObject:s.theDataObject,profileData:s.profile,links:s.links.filter((function(e){return e.active})),design:s.design,products:s.products.filter((function(e){return e.active}))}))))},ve={profileAbout:{description:"",fullname:"",photoUrl:"http://localhost:5000/images/avatar_default.svg"},design:{background:{color:"#8ED1FC",isColor:!0,imageUrl:""},branding:!0},products:[],links:[],messengers:[]};function ke(){var e=Object(n.useState)(ve),a=Object(re.a)(e,2),t=a[0],c=a[1],l=pe(),i=l.loading,s=l.request,m=Object(u.g)(),g=Object(u.h)().id;return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("/api/".concat(g),"GET");case 3:(a=e.sent)?c(a):m.push("/"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),i?r.a.createElement("div",{style:{width:"100vw"}},r.a.createElement(o.a,null)):r.a.createElement(X,{theDataObject:t,profileData:t.profileAbout,links:t.links.filter((function(e){return e.active})),design:t.design,products:t.products.filter((function(e){return e.active}))})}var Ee=t(534),je=t(547),Oe=t(533),we=t(208),xe=t.n(we),ye=t(207);var Ce=function(){var e=de().showToast,a=Object(n.useContext)(ae).theDataObject;return r.a.createElement(ye.CopyToClipboard,{text:"http://ec2-52-15-195-225.us-east-2.compute.amazonaws.com/".concat(a.linkname),onCopy:function(){return e("Link jest skopiowany!","primary")}},r.a.createElement(je.a,{id:"outlined-read-only-input",label:"Skopiowa\u0107 link",value:".../".concat(a.linkname),InputProps:{readOnly:!0,endAdornment:r.a.createElement(Oe.a,{position:"end"},r.a.createElement(xe.a,null))},variant:"outlined",className:"copy-link-input"}))},Ne=t(104);function Se(e){return r.a.createElement("li",{className:"menu-items__item"},r.a.createElement(s.b,{to:e.linkToHref},r.a.createElement("span",{className:"menu-items__item-ico"},e.ico()),r.a.createElement("span",{className:"menu-items__item-text"},e.linkToName),r.a.createElement("span",{className:"menu-items__item-arrow"},r.a.createElement(Ne.b,null))))}var ze=t(136),_e=t(209),Te=t(210),Pe=[{linkToHref:"/profile/about",linkToName:"Profil",ico:function(){return r.a.createElement(ze.b,null)},key:1},{linkToHref:"/profile/design",linkToName:"Design linku",ico:function(){return r.a.createElement(_e.a,null)},key:2},{linkToHref:"/profile/links",linkToName:"Twoje linki",ico:function(){return r.a.createElement(ze.a,null)},key:4},{linkToHref:"/profile/products",linkToName:"Twoje produkty",ico:function(){return r.a.createElement(Te.a,null)},key:5}];var De=function(){var e=Object(n.useContext)(ie),a=Object(n.useContext)(ae).profile,t=e.logout;return r.a.createElement("div",{style:{display:"flex",height:"100%",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("h2",{className:"header__hi"},a.fullname?"Cze\u015b\u0107, ".concat(a.fullname.split(" ")[0],"!"):"Cze\u015b\u0107!"),r.a.createElement(Ce,null),r.a.createElement("ul",{className:"menu-items"},Pe.map((function(e){return r.a.createElement(Se,{key:e.key,linkToHref:e.linkToHref,linkToName:e.linkToName,ico:e.ico})})))),r.a.createElement("div",{style:{paddingBottom:"10px"}},r.a.createElement(Ee.a,{variant:"contained",color:"default",onClick:t},"Wyloguj si\u0119")))},Ue=t(58),Ie=t.n(Ue),Le=t(552),Ae=t(539),Be=t(537),He=t(538),We=t(536),Re=t(211),Fe=t.n(Re),Je=t(535),qe=t(109),Ze=(t(323),Object(i.a)((function(e){return{fabProgress:{color:qe.a[500],position:"absolute",top:-6,left:-6,zIndex:1}}})));function Ge(e){var a=Object(n.useContext)(ae),t=a.saveProfile,c=a.saveLinks,l=a.saveSingleLink,i=a.saveDesign,o=a.saveProducts,s=a.saveSingleProduct,u=Ze();return r.a.createElement("div",{className:"settings-header"},r.a.createElement("div",{className:"go-back"},r.a.createElement("button",{onClick:e.goHistoryBack},r.a.createElement(Ne.a,null))),r.a.createElement("div",null,r.a.createElement("h2",null,e.pageName)),r.a.createElement("div",null,e.anyChanges?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{variant:"contained",color:"primary",size:"small",startIcon:r.a.createElement(Fe.a,null),loading:e.loading,onClick:function(){return function(a){switch(a){case"links":c();break;case"single-link":l(e.link);break;case"profile":t();break;case"design":i();break;case"products":o();break;case"single-product":s(e.link)}}(e.whatSave)}},"Zapisz"),e.loading&&r.a.createElement(Je.a,{size:68,className:u.fabProgress})):null))}var Me=function(e){var a=Object(n.useContext)(ae),t=a.anyChanges,c=a.setAnyChanges,l=a.exit,i=a.loadingApi,o=Object(n.useState)(!1),s=Object(re.a)(o,2),u=s[0],m=s[1],d=function(){return m(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge,{pageName:e.pageName,anyChanges:t,loading:i,goHistoryBack:function(){if(t)return m(!0);window.history.back()},whatSave:e.whatSave,link:e.link}),r.a.createElement(Le.a,{open:u,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:"alert-popup"},r.a.createElement(We.a,{id:"alert-dialog-title"},"Na pewno chcesz opu\u015bci\u0107 stron\u0119?"),r.a.createElement(Be.a,null,r.a.createElement(He.a,{id:"alert-dialog-description"},"Wszystkie niezapisane dane zostan\u0105 ",r.a.createElement("b",null,"utracone"),".")),r.a.createElement(Ae.a,null,r.a.createElement(Ee.a,{onClick:d,variant:"contained",autoFocus:!0},"Zosta\u0144 na stronie"),r.a.createElement(Ee.a,{onClick:function(){m(!1),c(!1),l(),window.history.back()},variant:"contained",color:"primary"},"Opu\u015b\u0107"))),e.children)};t(324);function Ke(e){return r.a.createElement("div",{className:"input-data"},r.a.createElement(je.a,{id:"outlined-helperText",className:"input-data__inner",label:e.label?e.label:null,value:e.value,variant:"outlined",type:e.type?e.type:"text",name:e.name,onChange:e.onChange,multiline:!e.input,rows:e.input?null:"4",InputProps:{endAdornment:r.a.createElement(Oe.a,{position:"end"},"href"===e.name?null:e.maxLength-e.value.length)},inputProps:{maxLength:e.maxLength}}))}var Ye=t(212),Ve=t.n(Ye),$e=Object(i.a)((function(){return{input:{display:"none"}}})),Qe=function(e){var a=$e();return r.a.createElement("div",null,r.a.createElement("input",{accept:"image/*",className:a.input,id:"contained-button-file",multiple:!0,type:"file",name:"photofile",onChange:e.onChange}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(Ee.a,{variant:"contained",color:"primary",component:"span",startIcon:r.a.createElement(Ve.a,null),style:{marginRight:"10px"}},"Upload")))};t(325);var Xe=function(){var e=Object(n.useContext)(ae),a=e.profile,t=e.changeProfile,c=e.imagePreview;return r.a.createElement(Me,{pageName:"Tw\xf3j profil",whatSave:"profile"},r.a.createElement("main",{className:"about-page"},r.a.createElement("h4",null,"Zdj\u0119cie profilu"),r.a.createElement("div",{className:"avatar__section"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:c||a.photoUrl,alt:a.fullname})),r.a.createElement(Qe,{onChange:function(e){return t("add-image",e)}}),r.a.createElement(Ee.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Ie.a,null),onClick:function(e){return t("delete-image",e)}},"Usu\u0144"),c&&r.a.createElement(Ee.a,{variant:"contained",color:"secondary",onClick:function(e){return t("reset-image",e)}},"Resetuj")),r.a.createElement(Ke,{name:"fullname",input:!0,placeholder:"Twoje Imi\u0119",label:"Imi\u0119",onChange:function(e){return t("form-data",e)},value:a.fullname,maxLength:"35"}),r.a.createElement(Ke,{name:"description",placeholder:"Opis",label:"Opis",onChange:function(e){return t("form-data",e)},value:a.description,maxLength:"350"})))},ea=t(137),aa=t(541),ta=t(553),na=t(540),ra=t(111);t(489);function ca(){var e=Object(g.a)(["\n        background-image: url(",");\n        background-size: cover;\n        background-position: center;\n        position: relative;\n        width: 100%;\n        height: 100%;\n        border-radius: 8px;\n        "]);return ca=function(){return e},e}var la=f.a.div(ca(),(function(e){return e.background}));var ia=function(){var e=Object(n.useContext)(ae),a=e.design,t=e.changeDesign,c=e.imagePreview;return r.a.createElement(Me,{pageName:"Design linku",whatSave:"design"},r.a.createElement("main",{className:"design"},r.a.createElement(ra.a,{component:"div"},r.a.createElement(na.a,{component:"label",container:!0,alignItems:"center",spacing:1,className:"color-img-checker"},r.a.createElement(na.a,{item:!0},"Kolor"),r.a.createElement(na.a,{item:!0},r.a.createElement(aa.a,{control:r.a.createElement(ta.a,{checked:!a.background.isColor,onChange:function(){return t("isColor",!a.background.isColor)},name:"checkedB",color:"default",inputProps:{"aria-label":"checkbox with default color"},style:{margin:0}})})),r.a.createElement(na.a,{item:!0},"Zdj\u0119cie"))),a.background.isColor?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Wybierz kolor"),r.a.createElement(ea.TwitterPicker,{triangle:"hide",width:"100%",color:a.background.color,onChangeComplete:function(e){return t("color",e.hex)}}),r.a.createElement("br",null),r.a.createElement(ea.SliderPicker,{color:a.background.color,onChange:function(e){return t("color",e.hex)}}),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Zdj\u0119cie t\u0142a"),r.a.createElement("div",{className:"background-image__section"},a.background.imageUrl||c?r.a.createElement("div",{className:"background-image"},r.a.createElement(la,{background:c||a.background.imageUrl})):r.a.createElement("div",null,r.a.createElement("p",null,"Brak zdj\u0119cia, dodaj klikaj\u0105c przycisk poni\u017cej")),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement(Qe,{onChange:function(e){return t("add-image",e)}}),a.background.imageUrl&&null===c&&r.a.createElement(Ee.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Ie.a,null),onClick:function(e){return t("delete-image",e)}},"Usu\u0144"),c&&r.a.createElement(Ee.a,{variant:"contained",color:"secondary",onClick:function(e){return t("reset-image",e)}},"Resetuj")))),r.a.createElement(aa.a,{control:r.a.createElement(ta.a,{checked:a.branding,onChange:function(){return t("branding",!a.branding)},name:"checkedB",color:"primary"}),label:"Branding"})))},oa=t(543),sa=t(106),ua=t.n(sa),ma=t(550),da=t(110),pa=t(138),ga=t.n(pa),fa=t(542),ba=Object(da.c)((function(){return r.a.createElement("span",{className:"drag-handler"},"::")})),ha=Object(da.a)((function(e){var a=e.children;return r.a.createElement("div",{className:"dnd-list__box"},a)}));var va=function(e){var a=e.type,t=Object(n.useContext)(ae),c=t.links,l=t.setLinks,i=t.setAnyChanges,o=t.changeLinks,u=t.products,m=t.setProducts,d=t.changeProducts,p=Object(da.b)((function(e){var t=e.header,n=e.id,c=e.subheader,l=e.active;return r.a.createElement("div",{className:"dnd-list__item ".concat(l?null:"inactive")},r.a.createElement("div",{className:"dnd-list__item_main"},r.a.createElement("div",null,r.a.createElement(ba,null)),r.a.createElement("div",null,r.a.createElement("span",{className:"active-badge"})),r.a.createElement(s.b,{to:"/profile/".concat("links"===a?"links":"products","/").concat(n)},r.a.createElement("div",null,r.a.createElement("span",{className:"dnd-list__item_header"},t),r.a.createElement("span",{className:"dnd-list__item_subheader"},c)))),r.a.createElement("div",{className:"dnd-list__item_secondary"},r.a.createElement(ma.a,{title:"Usun\u0105\u0107",interactive:!0,arrow:!0},r.a.createElement(fa.a,{"aria-label":"delete",onClick:function(){return function(e){"links"===a?o("delete-link",e):"products"===a&&d("delete-product",e)}(n)}},r.a.createElement(Ie.a,null)))))})),g=function(e){var t=e.oldIndex,n=e.newIndex;i(!0),"links"===a?l(ga()(c,t,n)):"products"===a&&m(ga()(u,t,n))};return"links"===a?r.a.createElement(ha,{onSortEnd:g,useDragHandle:!0},c.map((function(e,a){return r.a.createElement(p,{key:e.id,index:a,active:e.active,header:e.header,subheader:e.subheader,id:e.id})}))):"products"===a?r.a.createElement(ha,{onSortEnd:g,useDragHandle:!0},u.map((function(e,a){return r.a.createElement(p,{key:e.id,index:a,active:e.active,header:e.header,subheader:e.subheader,id:e.id})}))):void 0};t(490);var ka=function(){var e=Object(n.useContext)(ae).changeLinks;return r.a.createElement(Me,{pageName:"Twoje linki",whatSave:"links"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"90%",paddingBottom:"100px"}},r.a.createElement("div",null,r.a.createElement(va,{type:"links"})),r.a.createElement("div",{className:"add-icon"},r.a.createElement(ma.a,{title:"Doda\u0107 link",interactive:!0,arrow:!0},r.a.createElement(oa.a,{color:"primary","aria-label":"add",onClick:function(){return e("add-new-link")}},r.a.createElement(ua.a,null))))))};var Ea=function(){var e=Object(n.useContext)(ae),a=e.links,t=e.changeLinks,c=Object(u.h)().id,l=Object(u.g)(),i=a.find((function(e){return e.id===c})),o=a.findIndex((function(e){return e.id===c}));return Object(n.useLayoutEffect)((function(){void 0===i&&l.push("/profile")}),[]),i?r.a.createElement(Me,{pageName:a[o].header,whatSave:"single-link",link:a[o]},r.a.createElement("main",{className:"about-page"},r.a.createElement(aa.a,{control:r.a.createElement(ta.a,{checked:a[o].active,onChange:function(){return t("single-link-active",c)},name:"checkedB",color:"primary"}),label:a[o].active?"Aktywny":"Nieaktywny"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ke,{name:"header",input:!0,placeholder:"Nazwa linku",label:"Nazwa linku",onChange:function(e){return t("single-link-form-data",c,e)},value:a[o].header,maxLength:"48"}),r.a.createElement(Ke,{name:"subheader",input:!0,placeholder:"Podtytu\u0142",label:"Podtytu\u0142",onChange:function(e){return t("single-link-form-data",c,e)},value:a[o].subheader,maxLength:"48"}),r.a.createElement(Ke,{name:"href",input:!0,placeholder:"URL",label:"URL",onChange:function(e){return t("single-link-form-data",c,e)},value:a[o].href}))):r.a.createElement(Je.a,null)};var ja=function(){return r.a.createElement(r.a.Fragment,null)};var Oa=function(){var e=Object(n.useContext)(ae).changeProducts;return r.a.createElement(Me,{pageName:"Twoje produkty",whatSave:"products"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"90%",paddingBottom:"100px"}},r.a.createElement("div",null,r.a.createElement(va,{type:"products"})),r.a.createElement("div",{className:"add-icon"},r.a.createElement(ma.a,{title:"Doda\u0107 produkt",interactive:!0,arrow:!0},r.a.createElement(oa.a,{color:"primary","aria-label":"add",onClick:function(){return e("add-new-product")}},r.a.createElement(ua.a,null))))))};t(491);var wa=function(){var e=Object(n.useContext)(ae),a=e.products,t=e.changeProducts,c=e.imagePreview,l=Object(u.h)().id,i=Object(u.g)(),o=a.find((function(e){return e.id===l})),s=a.findIndex((function(e){return e.id===l}));return Object(n.useLayoutEffect)((function(){void 0===o&&i.push("/profile")}),[]),o?r.a.createElement(Me,{pageName:a[s].header,whatSave:"single-product",link:a[s]},r.a.createElement("main",{className:"about-page"},r.a.createElement(aa.a,{control:r.a.createElement(ta.a,{checked:a[s].active,onChange:function(){return t("single-product-active",l)},name:"checkedB",color:"primary"}),label:a[s].active?"Aktywny":"Nieaktywny"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ke,{name:"header",input:!0,placeholder:"Nazwa linku",label:"Nazwa linku",onChange:function(e){return t("single-product-form-data",l,e)},value:a[s].header,maxLength:"48"}),r.a.createElement(Ke,{name:"subheader",input:!0,placeholder:"Podtytu\u0142",label:"Podtytu\u0142",onChange:function(e){return t("single-product-form-data",l,e)},value:a[s].subheader,maxLength:"48"}),r.a.createElement(Ke,{name:"href",input:!0,placeholder:"URL",label:"URL",onChange:function(e){return t("single-product-form-data",l,e)},value:a[s].href}),r.a.createElement("h4",null,"Zdj\u0119cie produktu"),a[s].imageUrl||c?r.a.createElement("div",{className:"product-image__section"},r.a.createElement("div",{className:"product-image__outter"},r.a.createElement("div",{className:"product-image__inner"},r.a.createElement("img",{src:c||a[s].imageUrl,alt:a[s].header})))):r.a.createElement("div",null,r.a.createElement("p",null,"Brak zdj\u0119cia, dodaj klikaj\u0105c przycisk poni\u017cej")),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement(Qe,{onChange:function(e){return t("single-product-add-image",l,e)}}),a[s].imageUrl&&null===c&&r.a.createElement(Ee.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(Ie.a,null),onClick:function(e){return t("single-product-delete-image",l,e)}},"Usu\u0144"),c&&r.a.createElement(Ee.a,{variant:"contained",color:"secondary",onClick:function(e){return t("single-product-reset-image",e)}},"Resetuj")))):r.a.createElement(Je.a,null)},xa=t(554),ya=t(545),Ca=t(548),Na=t(107),Sa=t.n(Na),za=t(544);t(198);function _a(){return r.a.createElement(ra.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(s.b,{color:"inherit",href:"https://kuzmenczuk.dev"},"Kuzmenczuk.dev")," ",(new Date).getFullYear(),".")}var Ta=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Pa(){var e=Ta(),a=de().showToast,t=pe(),c=t.loading,l=t.request,i=Object(n.useState)({email:"",password:""}),u=Object(re.a)(i,2),m=u[0],g=u[1],f=Object(n.useContext)(ie),b=function(e){g(Object(ne.a)(Object(ne.a)({},m),{},Object(te.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("/api/auth/login","POST",Object(ne.a)({},m));case 3:t=e.sent,a(t.message,"success"),f.login(t.token,t.userId),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(za.a,{component:"main",maxWidth:"xs"},c?r.a.createElement("div",null,r.a.createElement(o.a,null)):null,r.a.createElement(ya.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(xa.a,{className:e.avatar},r.a.createElement(Sa.a,null)),r.a.createElement(ra.a,{component:"h1",variant:"h5"},"Zaloguj si\u0119"),r.a.createElement(je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email adres",name:"email",autoComplete:"email",value:m.email,onChange:b}),r.a.createElement(je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Has\u0142o",type:"password",id:"password",autoComplete:"current-password",value:m.password,onChange:b}),r.a.createElement(Ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:h},"Zaloguj si\u0119"),r.a.createElement(na.a,{container:!0},r.a.createElement(na.a,{item:!0,xs:!0}),r.a.createElement(na.a,{item:!0},r.a.createElement(s.b,{to:"/signup",variant:"body2"},"Nie masz jeszcze konta? Zarejestruj si\u0119")))),r.a.createElement(Ca.a,{mt:8},r.a.createElement(_a,null)))}function Da(){return r.a.createElement(ra.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(s.b,{color:"inherit",href:"https://kuzmenczuk.dev"},"Kuzmenczuk.dev")," ",(new Date).getFullYear(),".")}var Ua=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ia(){var e=Ua(),a=de().showToast,t=pe(),c=t.loading,l=t.request,i=Object(n.useState)({email:"",password:"",name:"",linkname:""}),u=Object(re.a)(i,2),m=u[0],g=u[1],f=Object(n.useContext)(ie),b=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("/api/auth/register","POST",Object(ne.a)({},m));case 3:(t=e.sent)&&(a(t.message,"success"),f.login(t.token,t.userId)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),h=function(e){g(Object(ne.a)(Object(ne.a)({},m),{},Object(te.a)({},e.target.name,e.target.value)))};return r.a.createElement(za.a,{component:"main",maxWidth:"xs"},c?r.a.createElement("div",null,r.a.createElement(o.a,null)):null,r.a.createElement(ya.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(xa.a,{className:e.avatar},r.a.createElement(Sa.a,null)),r.a.createElement(ra.a,{component:"h1",variant:"h5"},"Zarejestruj si\u0119"),r.a.createElement("br",null),r.a.createElement(na.a,{container:!0,spacing:2},r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(je.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Imi\u0119",value:m.name,onChange:h})),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(je.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email adres",name:"email",value:m.email,onChange:h})),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(je.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Has\u0142o",type:"password",id:"password",value:m.password,onChange:h})),r.a.createElement(na.a,{item:!0,xs:12},r.a.createElement(je.a,{variant:"outlined",required:!0,fullWidth:!0,name:"linkname",label:"Nazwij sw\xf3j link",id:"linkname",value:m.linkname,onChange:h}))),r.a.createElement(Ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:b},"Zarejestruj si\u0119"),r.a.createElement(na.a,{container:!0,justify:"flex-end"},r.a.createElement(na.a,{item:!0},r.a.createElement(s.b,{to:"/login",variant:"body2"},"Ju\u017c masz konto? Zaloguj si\u0119")))),r.a.createElement(Ca.a,{mt:5},r.a.createElement(Da,null)))}var La=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/profile",exact:!0},r.a.createElement(De,null)),r.a.createElement(u.b,{path:"/profile/about",exact:!0},r.a.createElement(Xe,null)),r.a.createElement(u.b,{path:"/profile/design",exact:!0},r.a.createElement(ia,null)),r.a.createElement(u.b,{path:"/profile/links",exact:!0},r.a.createElement(ka,null)),r.a.createElement(u.b,{path:"/profile/links/:id"},r.a.createElement(Ea,null)),r.a.createElement(u.b,{path:"/profile/m",exact:!0},r.a.createElement(ja,null)),r.a.createElement(u.b,{path:"/profile/products",exact:!0},r.a.createElement(Oa,null)),r.a.createElement(u.b,{path:"/profile/products/:id"},r.a.createElement(wa,null)),r.a.createElement(u.a,{to:"/profile"}))},Aa=(t(492),Object(i.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})));var Ba=function(){var e=function(){var e=de().showToast,a=Object(n.useState)(null),t=Object(re.a)(a,2),r=t[0],c=t[1],l=Object(n.useState)(null),i=Object(re.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(!1),m=Object(re.a)(u,2),d=m[0],p=m[1],g=Object(n.useCallback)((function(e,a){c(e),s(a),localStorage.setItem("userData",JSON.stringify({userId:a,token:e}))}),[]),f=Object(n.useCallback)((function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c(null),s(null),localStorage.removeItem("userData"),a&&e("Do zobaczenia, Partnerze!","error","hand")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&g(e.token,e.userId),p(!0)}),[g]),{login:g,logout:f,token:r,userId:o,ready:d}}(),a=e.login,t=e.logout,c=e.token,l=e.userId,i=e.ready,m=!!c,d=Aa(),p=function(e){return e?r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/profile"},r.a.createElement(he,null)),r.a.createElement(u.b,{path:"/signup",exact:!0},r.a.createElement(u.a,{to:"/profile"})),r.a.createElement(u.b,{path:"/:id"},r.a.createElement(ke,null)),r.a.createElement(u.a,{to:"/profile"})):r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/login",exact:!0},r.a.createElement(Pa,null)),r.a.createElement(u.b,{path:"/signup",exact:!0},r.a.createElement(Ia,null)),r.a.createElement(u.b,{path:"/:id"},r.a.createElement(ke,null)),r.a.createElement(u.a,{to:"/login"}))}(m);return i?r.a.createElement(ie.Provider,{value:{login:a,logout:t,token:c,userId:l,isAuth:m}},r.a.createElement(s.a,null,p)):r.a.createElement("div",{className:d.root},r.a.createElement(o.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ba,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[284,1,2]]]);
//# sourceMappingURL=main.45edf55b.chunk.js.map